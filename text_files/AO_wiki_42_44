
SUBNETWORK
A subnetwork or subnet is a logical subdivision of an IP network. The practice of dividing a network into two or more networks is called subnetting.
Computers that belong to a subnet are addressed with an identical most-significant bit-group in their IP addresses. This results in the logical division of an IP address into two fields, the network number or routing prefix and the rest field or host identifier. The rest field is an identifier for a specific host or network interface.
The routing prefix may be expressed in Classless Inter-Domain Routing (CIDR) notation written as the first address of a network, followed by a slash character (/), and ending with the bit-length of the prefix. For example, is the prefix of the Internet Protocol version 4 network starting at the given address, having 24 bits allocated for the network prefix, and the remaining 8 bits reserved for host addressing. The IPv6 address specification is a large address block with 2 addresses, having a 32-bit routing prefix.
For IPv4, a network may also be characterized by its subnet mask or netmask, which is the bitmask that when applied by a bitwise AND operation to any IP address in the network, yields the routing prefix. Subnet masks are also expressed in dot-decimal notation like an address. For example, is the subnet mask for the prefix .
Traffic is exchanged between subnetworks through routers when the routing prefixes of the source address and the destination address differ. A router serves as a logical or physical boundary between the subnets.
The benefits of subnetting an existing network vary with each deployment scenario. In the address allocation architecture of the Internet using CIDR and in large organizations, it is necessary to allocate address space efficiently. Subnetting may also enhance routing efficiency, or have advantages in network management when subnetworks are administratively controlled by different entities in a larger organization. Subnets may be arranged logically in a hierarchical architecture, partitioning an organization's network address space into a tree-like routing structure.
NETWORK ADDRESSING AND ROUTING
Section::::Network addressing and routing.
Computers participating in a network such as the Internet each have at least one network address. Usually this address is unique to each device and can either be configured automatically with the Dynamic Host Configuration Protocol (DHCP) by a network server, manually by an administrator, or automatically by stateless address autoconfiguration.
An address fulfills the functions of identifying the host and locating it on the network. The most common network addressing architecture is Internet Protocol version 4 (IPv4), but its successor, IPv6, has been increasingly deployed since approximately 2006. An IPv4 address consists of 32 bits, for readability written in a form consisting of four decimal octets separated by dots, called dot-decimal notation. An IPv6 address consists of 128 bits written in a hexadecimal notation and groupings of 16 bits, called hextets, separated by colons.
An IP address is divided into two logical parts, the network prefix and the host identifier. All hosts on a subnetwork have the same network prefix. This prefix occupies the most-significant bits of the address. The number of bits allocated within a network to the prefix may vary between subnets, depending on the network architecture. The host identifier is a unique local identification and is either a host number on the local network or an interface identifier.
This addressing structure permits the selective routing of IP packets across multiple networks via special gateway computers, called routers, to a destination host if the network prefixes of origination and destination hosts differ, or sent directly to a target host on the local network if they are the same. Routers constitute logical or physical borders between the subnets, and manage traffic between them. Each subnet is served by a designated default router, but may consist internally of multiple physical Ethernet segments interconnected by network switches.
The routing prefix of an address is identified by the subnet mask, written in the same form used for IP addresses. For example, the subnet mask for a routing prefix that is composed of the most-significant 24 bits of an IPv4 address is written as .
The modern standard form of specification of the network prefix is CIDR notation, used for both IPv4 and IPv6. It counts the number of bits in the prefix and appends that number to the address after a slash (/) character separator. This notation was introduced with Classless Inter-Domain Routing (CIDR).
In IPv6 this is the only standards-based form to denote network or routing prefixes.
For example, the IPv4 network with the subnet mask is written as , and the IPv6 notation designates the address and its network prefix consisting of the most significant 32 bits.
In classful networking in IPv4, prior to the introduction of CIDR, the network prefix could be directly obtained from the IP address, based on its highest order bit sequence. This determined the class (A, B, C) of the address and therefore the subnet mask. Since the introduction of CIDR, however, assignment of an IP address to a network interface requires two parameters, the address and its subnet mask.
In IPv4, determination of whether a destination IP address is on-link can be made by examining the source and destination addresses and the source's subnet mask, as an address cannot be disassociated from the on-link prefix. For IPv6, however, on-link determination is different in detail and requires the Neighbor Discovery Protocol (NDP). IPv6 address assignment to an interface carries no requirement of a matching on-link prefix and vice versa, with the exception of link-local addresses.
Since each locally connected subnet must be represented by a separate entry in the routing tables of each connected router, subnetting increases routing complexity. However, by careful design of the network, routes to collections of more distant subnets within the branches of a tree-hierarchy can be aggregated into a supernetwork and represented by single routes.
INTERNET PROTOCOL VERSION 4
DETERMINING THE NETWORK PREFIX
Section::::Internet Protocol version 4.
Section::::Determining the network prefix.
An IPv4 subnet mask is 32 bits, a sequence of ones (1) followed by a block of zeros (0). The ones indicate bits in the address used for the network prefix and the trailing block of zeros designates that part as being the host identifier.
The following example shows the separation of the network prefix and the host identifier from an address () and its associated subnet mask (). The operation is visualized in a table using binary address formats.
! Binary form
! Dot-decimal notation
The result of the bitwise AND operation of IP address and the subnet mask is the network prefix . The host part, which is , is derived by the bitwise AND operation of the address and the one's complement of the subnet mask.
SUBNETTING
Section::::Subnetting.
Subnetting is the process of designating some high-order bits from the host part as part of the network prefix and adjusting the subnet mask appropriately. This divides a network into smaller subnets. The following diagram modifies the example by moving 2 bits from the host part to the network prefix to form four smaller subnets one quarter the previous size:
! Binary form
! Dot-decimal notation
SPECIAL ADDRESSES AND SUBNETS
Section::::Special addresses and subnets.
Internet Protocol version 4 uses specially designated address formats to facilitate recognition of special address functionality. The first and the last subnets obtained by subnetting have traditionally had a special designation and, early on, special usage implications. In addition, IPv4 uses the all ones host address, i.e. the last address within a network, for broadcast transmission to all hosts on the link.
SUBNET ZERO AND THE ALL-ONES SUBNET
Section::::Subnet zero and the all-ones subnet.
The first subnet obtained from subnetting has all bits in the subnet bit group set to zero (0). It is therefore called subnet zero. The last subnet obtained from subnetting has all bits in the subnet bit group set to one (1). It is therefore called the all-ones subnet.
The IETF originally discouraged the production use of these two subnets.
When the prefix length is not available, the network and the first subnet have the same address, which may lead to confusion.
Therefore, reserving the subnet values consisting of all zeros and all ones (broadcast) on the public Internet was recommended,
reducing the number of available subnets by two. This inefficiency was removed, and the practice was declared obsolete in 1995.
It is only relevant anymore when dealing with legacy equipment that does not implement CIDR.
The all-zeros host value and the all-ones host value are reserved for the network address of the subnet and its broadcast address, respectively.
In systems using CIDR, a count of two is subtracted from the host availability, rather than the subnet availability, making all 2 subnets available.
For example, with CIDR, all sixteen subnets of a network are usable. Each broadcast address, i.e. , , …, reduces only the host count in each subnetwork.
SUBNET AND HOST COUNTS
Section::::Subnet and host counts.
The number of subnetworks available, and the number of possible hosts in a network may be readily calculated. In the example (below) two bits were borrowed to create subnetworks, thus creating 4 (2) possible subnets.
! Network
! Network (binary)
! Broadcast address
The remaining bits after the subnet bits are used for addressing hosts within the subnet. In the above example the subnet mask consists of 26 bits, leaving 6 bits for the host identifier. This allows for 62 host combinations (2−2).
In general the number of available hosts on a subnet is 2−2, where h is the number of bits used for the host portion of the address. The number of available subnets is 2, where n is the number of bits used for the network portion of the address.
There is an exception to this rule for 31-bit subnet masks, which means the host identifier is only one bit long for two permissible addresses. In such networks, usually point-to-point links, only two hosts (the end points) may be connected and a specification of network and broadcast addresses is not necessary.
A network may be divided into the following subnets by increasing the subnet mask successively by one bit. This affects the total number of hosts that can be addressed in the network (last column).
! Prefix size
! Subnet mask
! Availablesubnets
! Usable hosts per subnet
! Totalusable hosts
INTERNET PROTOCOL VERSION 6
Section::::Internet Protocol version 6.
The design of the IPv6 address space differs significantly from IPv4. The primary reason for subnetting in IPv4 is to improve efficiency in the utilization of the relatively small address space available, particularly to enterprises. No such limitations exist in IPv6, as the large address space available, even to end-users, is not a limiting factor.
As in IPv4, subnetting in IPv6 is also based on the concepts of variable-length subnet masking (VLSM) and the Classless Inter-Domain Routing methodology. It is used to route traffic between the global allocation spaces and within customer networks between subnets and the Internet at large.
A compliant IPv6 subnet always uses addresses with 64 bits in the host identifier.
Given the address size of 128 bits, it therefore has a /64 routing prefix (128 – 64 = 64 most significant bits).
Although it is technically possible to use smaller subnets, they are impractical for local area networks based on Ethernet technology, because 64 bits are required for stateless address auto configuration. The Internet Engineering Task Force recommends the use of subnets for point-to-point links, which have only two hosts.
IPv6 does not implement special address formats for broadcast traffic or network numbers, and thus all addresses in a subnet are acceptable for host addressing. The all-zeroes address is reserved as the subnet-router anycast address.
The recommended allocation for an IPv6 customer site was an address space with a 48-bit () prefix. However, this recommendation was revised to encourage smaller blocks, for example using 56-bit prefixes.
Another common allocation size for residential customer networks has a 64-bit prefix.
SEE ALSO
* Autonomous system
REFERENCES
FURTHER READING
* RFC 1812 Requirements for IPv4 Routers
* RFC 917 Utility of subnets of Internet networks
* RFC 1101 DNS Encodings of Network Names and Other Type
* Blank, Andrew G. TCP/IP Foundations Technology Fundamentals for IT Success. San Francisco, London: Sybex, Copyright 2004.
* Lammle, Todd. CCNA Cisco Certified Network Associate Study Guide 5th Edition. San Francisco, London: Sybex, Copyright 2005.
* Groth, David and Toby Skandier. Network + Study Guide, 4th Edition. San Francisco, London: Wiley Publishing, Inc., Copyright 2005.
EXTERNAL LINKS
* Cisco-IP Addressing and Subnetting for New Users
* Netmask Quick Reference Chart
